{{ template "head" . }}

{{ template "prom_right_table_head" }}
{{ template "prom_right_table_tail" }}

{{ template "prom_content_head" . }}
<h1>Overview</h1>

<p>This is a work-in-progress console for bitcoind/lightningd.</p>

<h2>Bitcoin</h2>

<h2>Lightning</h2>

<h3>Channels</h3>

<h4>Number of channels</h4>
<div id="numChannelsGraph"></div>
<script>
new PromConsole.Graph({
    node: document.querySelector("#numChannelsGraph"),
    expr: "lightningd_num_channels",
    renderer: "area"
});
</script>

<h4>Capacity of channels</h4>
<div id="channelCapacityGraph"></div>
<script>
new PromConsole.Graph({
    node: document.querySelector("#channelCapacityGraph"),
    expr: 'lightningd_total_channel_capacity_msatoshi{criteria=~"to_them|to_us"}',
    renderer: "area"
});
</script>

<h3>Peers</h3>
<div id="numPeersGraph"></div>
<script>
new PromConsole.Graph({
    node: document.querySelector("#numPeersGraph"),
    expr: "lightningd_num_peers",
    renderer: "area"
});
</script>

<h3>Nodes</h3>
<div id="numNodesGraph"></div>
<script>
new PromConsole.Graph({
    node: document.querySelector("#numNodesGraph"),
    expr: "lightningd_num_nodes",
    renderer: "area"
});
</script>

<h2>System</h2>
<div id="freeMemoryGraph"></div>
<script>
new PromConsole.Graph({
    node: document.querySelector("#freeMemoryGraph"),
    expr: "node_memory_MemAvailable",
    renderer: "line"
});
</script>

<p>End of index</p>
{{ template "prom_content_tail" . }}

{{ template "tail" }}
